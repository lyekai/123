# ──────────────────────【Prompt 組合】──────────────────────
def generate_prompt(student_name, theme, num_tf, num_mc, num_app, theme_info):
    return f"""你是一名資深數學老師，請根據"{student_name}"同學的答題狀況與所有人的易錯題目進行錯誤題目預測：

以下是與主題「{theme}」相關的背景資料，請根據這些資訊融合題目故事中，讓整份試卷充滿沉浸感：

{theme_info}

📌 **整體要求：**
1. 以「{theme}」為主題撰寫完整故事，角色與背景需一致。
2. 該故事將貫穿整份試卷，三種類型的題目須有承接性。
3. 每大題（是非、選擇、應用）開頭需有100～150字故事延續情節。
4. 所有題目需與數學概念相關，避免出現答案與解說。
5. 僅以繁體中文撰寫，語句清晰。

📄 題目格式：
一、是非題  
"故事背景"  
1.(題目)  
...

二、選擇題  
"故事背景"  
1.(題目)  
...

三、應用題  
"故事背景"  
1.(題目)  
...

題數設定：
- 是非題：{num_tf} 題  
- 選擇題：{num_mc} 題  
- 應用題：{num_app} 題
"""